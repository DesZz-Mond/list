<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–û–†–¢–ê–õ –ú–ë-202 –Ü–Ü-—Å–µ–º–µ—Å—Ç—Ä</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        zoom: '#2D8CFF',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap');
        
        body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }

        /* –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Å–∫—Ä–æ–ª–±–∞—Ä—É */
        .custom-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 10px; }
        .dark .custom-scroll::-webkit-scrollbar-thumb { background: #3f3f46; }

        /* –°—ñ—Ç–∫–∞ —Ä–æ–∑–∫–ª–∞–¥—É */
        .schedule-grid { 
            display: grid; 
            grid-template-columns: repeat(1, minmax(0, 1fr)); 
            gap: 1rem; 
        }
        @media (min-width: 768px) { .schedule-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 1.5rem; } }
        @media (min-width: 1280px) { .schedule-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); } }

        /* –ö–∞—Ä—Ç–∫–∞ –ø–∞—Ä–∏ */
        .pair-item { border-left-width: 4px; position: relative; transition: transform 0.2s, box-shadow 0.2s; border-radius: 0.75rem; border-top-left-radius: 0; border-bottom-left-radius: 0; }
        .pair-item:hover { transform: translateX(4px); }
        
        .pair-general { border-left-color: #6366f1; background-color: #f8fafc; border: 1px solid #e2e8f0; }
        .pair-elective { border-left-color: #f59e0b; background-color: #fffdfa; border: 1px solid #fef3c7; }
        .pair-lang { border-left-color: #10b981; background-color: #f0fdf4; border: 1px solid #d1fae5; }

        .dark .pair-general { background-color: rgba(30, 41, 59, 0.4); border-color: #334155; }
        .dark .pair-elective { background-color: rgba(69, 39, 0, 0.15); border-color: #78350f; }
        .dark .pair-lang { background-color: rgba(6, 78, 59, 0.15); border-color: #064e3b; }

        .animate-fade { animation: fadeIn 0.3s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

        /* –§—ñ–∫—Å –¥–ª—è –ü–Ü–ë */
        .full-name-cell {
            white-space: normal !important;
            overflow: visible !important;
            text-overflow: clip !important;
            word-wrap: break-word !important;
            word-break: break-word !important;
            hyphens: auto;
            line-height: 1.4 !important;
        }

        /* –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è —Ç–∞–±–ª–∏—Ü—ñ –≤ –∫–∞—Ä—Ç–∫–∏ –Ω–∞ –º–æ–±—ñ–ª—Ü—ñ */
        @media (max-width: 639px) {
            .mobile-stack-table thead { display: none; }
            .mobile-stack-table, .mobile-stack-table tbody, .mobile-stack-table tr, .mobile-stack-table td { display: block; width: 100%; }
            .mobile-stack-table tr { 
                margin-bottom: 1rem; 
                padding: 1.25rem;
                background: white;
                border: 1px solid #e2e8f0;
                border-radius: 1rem;
                box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            }
            .dark .mobile-stack-table tr { background: #18181b; border-color: #27272a; }
            .mobile-stack-table td { padding: 0.15rem 0; border: none !important; }
            .mobile-stack-table td:first-child { color: #94a3b8; font-size: 0.75rem; font-weight: 800; margin-bottom: 0.25rem; }
            .mobile-stack-table td:nth-child(2) { 
                font-size: 1.125rem; 
                font-weight: 800; 
                color: #0f172a; 
            }
            .dark .mobile-stack-table td:nth-child(2) { color: #f8fafc; }
            .mobile-stack-table td:nth-child(3) { margin: 0.5rem 0; }
            .mobile-stack-table td:last-child { margin-top: 0.75rem; text-align: left !important; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-zinc-950 dark:text-zinc-100 transition-colors duration-300 min-h-screen pb-24 sm:pb-12">

    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
    <nav class="bg-white/90 dark:bg-zinc-900/90 backdrop-blur-md border-b border-slate-200 dark:border-zinc-800 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 sm:h-20">
                <div class="flex items-center gap-2">
                    <span class="text-xl sm:text-2xl">üéì</span>
                    <div class="flex flex-col">
                        <span class="text-[10px] font-black tracking-widest uppercase opacity-50 leading-none">–Ü–Ü-–°–ï–ú–ï–°–¢–†</span>
                        <span class="text-sm sm:text-lg font-bold tracking-tight uppercase leading-tight">–ü–û–†–¢–ê–õ –ú–ë-202</span>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <div class="hidden sm:flex items-center gap-2 mr-4 border-r border-slate-200 dark:border-zinc-800 pr-4">
                        <button onclick="switchView('register')" id="nav-register-pc" class="px-4 py-2 rounded-xl text-sm font-semibold transition hover:bg-slate-100 dark:hover:bg-zinc-800">–ì–æ–ª–æ–≤–Ω–∞</button>
                        <button onclick="switchView('schedule')" id="nav-schedule-pc" class="px-4 py-2 rounded-xl text-sm font-semibold transition text-slate-500 dark:text-zinc-400 hover:text-indigo-600">–ú—ñ–π –†–æ–∑–∫–ª–∞–¥</button>
                    </div>
                    <button onclick="toggleDarkMode()" class="p-2.5 rounded-xl hover:bg-slate-100 dark:hover:bg-zinc-800 transition border border-transparent">
                        <span id="dark-mode-icon">üåô</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- –ú–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é -->
    <div class="sm:hidden fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-zinc-900/95 backdrop-blur-lg border-t border-slate-200 dark:border-zinc-800 z-50 flex justify-around p-3 shadow-2xl">
        <button onclick="switchView('register')" class="flex flex-col items-center gap-1">
            <span id="mob-icon-reg" class="text-xl">üè†</span>
            <span class="text-[10px] font-bold uppercase tracking-tighter">–ì–æ–ª–æ–≤–Ω–∞</span>
        </button>
        <button onclick="switchView('schedule')" class="flex flex-col items-center gap-1">
            <span id="mob-icon-sch" class="text-xl">üìÖ</span>
            <span class="text-[10px] font-bold uppercase tracking-tighter">–†–æ–∑–∫–ª–∞–¥</span>
        </button>
    </div>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 space-y-6">
        
        <!-- Live Widget -->
        <div id="live-widget" class="bg-white dark:bg-zinc-900 p-5 sm:p-6 rounded-3xl border border-slate-200 dark:border-zinc-800 shadow-sm animate-fade">
            <div class="flex flex-col md:flex-row items-center justify-between gap-5">
                <div class="flex items-center gap-4 w-full md:w-auto">
                    <div id="status-icon" class="w-12 h-12 sm:w-14 sm:h-14 bg-indigo-50 dark:bg-indigo-900/30 rounded-full flex items-center justify-center text-2xl shadow-inner transition-all shrink-0">‚ö°</div>
                    <div class="min-w-0">
                        <h3 id="status-title" class="text-slate-500 dark:text-zinc-400 text-[10px] font-bold uppercase tracking-widest leading-none mb-1 text-left">–ó–∞—Ä–∞–∑ —É —Ä–æ–∑–∫–ª–∞–¥—ñ</h3>
                        <div id="current-pair-text" class="text-base sm:text-lg font-bold leading-tight text-left">–ê–Ω–∞–ª—ñ–∑ —á–∞—Å—É...</div>
                    </div>
                </div>
                <div class="w-full md:w-auto border-t md:border-t-0 md:border-l border-slate-100 dark:border-zinc-800 pt-4 md:pt-0 md:pl-8">
                    <div class="bg-indigo-600 text-white px-6 py-2 rounded-2xl text-center shadow-lg shadow-indigo-500/20">
                        <p id="timer-label" class="text-[9px] font-black uppercase opacity-80 mb-0.5 tracking-widest">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å</p>
                        <p id="elapsed-timer" class="text-xl sm:text-2xl font-mono font-black tracking-tighter">00:00:00</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü–æ—à—É–∫ -->
        <div class="bg-white dark:bg-zinc-900 p-4 sm:p-5 rounded-2xl border border-slate-200 dark:border-zinc-800 shadow-sm">
            <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-grow relative">
                    <input type="text" id="global-search" oninput="handleSearch()" placeholder="–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –ü–Ü–ë..." 
                        class="w-full pl-10 pr-4 py-3 border border-slate-100 dark:border-zinc-800 rounded-xl focus:ring-2 focus:ring-indigo-500/20 transition outline-none bg-slate-50 dark:bg-zinc-950 font-medium text-sm sm:text-base">
                    <span class="absolute left-3.5 top-3 sm:top-3.5 opacity-40">üîç</span>
                </div>
                <div class="w-full md:w-64">
                    <select id="lang-filter" onchange="handleSearch()" class="w-full p-3 border border-slate-100 dark:border-zinc-800 rounded-xl bg-slate-50 dark:bg-zinc-950 outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium text-sm text-slate-600 dark:text-zinc-300">
                        <option value="all">–£—Å—ñ –≥—Ä—É–ø–∏</option>
                        <option value="–Ω—ñ–º–µ—Ü—å–∫–∞">–ù—ñ–º–µ—Ü—å–∫–∞</option>
                        <option value="–ø–æ–ª—å—Å—å–∫–∞">–ü–æ–ª—å—Å—å–∫–∞</option>
                        <option value="—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞">–§—Ä–∞–Ω—Ü—É–∑—å–∫–∞</option>
                        <option value="–∫–∏—Ç–∞–π—Å—å–∫–∞">–ö–∏—Ç–∞–π—Å—å–∫–∞</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- –†–µ—î—Å—Ç—Ä -->
        <div id="view-register" class="space-y-10 animate-fade">
            <section>
                <div class="flex justify-between items-center mb-4 px-1">
                    <h2 class="text-lg sm:text-xl font-bold text-slate-800 dark:text-white uppercase tracking-tight text-center sm:text-left">–†–µ—î—Å—Ç—Ä —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</h2>
                    <span id="reg-count" class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">0 –æ—Å—ñ–±</span>
                </div>
                <div class="sm:bg-white sm:dark:bg-zinc-900 sm:rounded-2xl sm:border sm:border-slate-200 sm:dark:border-zinc-800 sm:overflow-hidden sm:shadow-sm">
                    <table class="w-full text-left mobile-stack-table">
                        <thead class="bg-slate-50 dark:bg-zinc-800/50 text-slate-500 dark:text-zinc-500 text-[10px] uppercase font-bold tracking-widest border-b border-slate-200 dark:border-zinc-800">
                            <tr>
                                <th class="p-4 w-12 text-center">‚Ññ</th>
                                <th class="p-4">–°—Ç—É–¥–µ–Ω—Ç (–ü–Ü–ë)</th>
                                <th class="p-4">–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏</th>
                                <th class="p-4 text-center">–î—ñ—è</th>
                            </tr>
                        </thead>
                        <tbody id="reg-table-body" class="divide-y divide-slate-100 dark:divide-zinc-800"></tbody>
                    </table>
                </div>
            </section>

            <!-- –ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥ -->
            <section>
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                    <h2 class="text-lg sm:text-xl font-bold text-slate-800 dark:text-white uppercase tracking-tight">–ó–∞–≥–∞–ª—å–Ω–∞ —Å—ñ—Ç–∫–∞ —Ä–æ–∑–∫–ª–∞–¥—É</h2>
                    <div id="week-selector-gen" class="flex gap-1 p-1 bg-slate-200 dark:bg-zinc-800 rounded-xl overflow-x-auto max-w-full no-scrollbar">
                        <!-- JS Buttons -->
                    </div>
                </div>
                <div id="general-schedule-grid" class="schedule-grid"></div>
            </section>
        </div>

        <!-- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥ -->
        <div id="view-schedule" class="hidden animate-fade space-y-6">
            <div id="no-student-selected" class="text-center py-20 bg-white dark:bg-zinc-900 rounded-2xl border-2 border-dashed border-slate-200 dark:border-zinc-800">
                <div class="text-5xl mb-4">üë§</div>
                <h3 class="text-lg font-bold text-slate-400 tracking-tight">–°—Ç—É–¥–µ–Ω—Ç–∞ –Ω–µ –æ–±—Ä–∞–Ω–æ</h3>
                <p class="text-slate-400 text-sm mt-1 font-medium">–û–±–µ—Ä—ñ—Ç—å –ü–Ü–ë —É —Å–ø–∏—Å–∫—É –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π</p>
            </div>
            
            <div id="schedule-content" class="hidden space-y-6">
                <div class="bg-white dark:bg-zinc-900 p-5 sm:p-8 rounded-2xl border border-slate-200 dark:border-zinc-800 flex flex-col md:flex-row justify-between items-center gap-6 shadow-sm">
                    <div class="text-center md:text-left w-full md:min-w-0">
                        <h2 id="active-student-name" class="text-xl sm:text-2xl font-black text-indigo-600 dark:text-indigo-400 tracking-tight leading-tight mb-2 full-name-cell"></h2>
                        <span class="text-[9px] font-bold uppercase tracking-widest text-slate-400 italic">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥</span>
                    </div>
                    <div id="week-selector-pers" class="flex gap-1 p-1 bg-slate-100 dark:bg-zinc-800 rounded-xl border border-slate-200 dark:border-zinc-700 shadow-inner">
                        <!-- JS Buttons -->
                    </div>
                </div>
                <div id="schedule-grid" class="schedule-grid"></div>
            </div>
        </div>

    </main>

    <script>
        // --- –î–ê–ù–Ü ---
        const zoomLinks = {
            "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥": "https://us04web.zoom.us/j/73655681421?pwd=4uXIxO7llz8HQW8adqLXkQeV4XpB0G.1#success",
            "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è": "https://us02web.zoom.us/j/4967822437?pwd=HwC2X8Tg4EQxyfs0sRaDpgkdcsLAId.1&omn=81642694735#success",
            "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥": "https://us02web.zoom.us/j/86814364953?pwd=YjJTSTd0czAzbkNGdmNXRlRqalZOQT09#success",
            "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è": "https://us02web.zoom.us/j/83636582974?pwd=RbIos5kRtplFa04mJ3U5BnZUaaoueF.1#success",
            "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è": "https://us04web.zoom.us/j/75469263830?pwd=VlsIwYIMbBLQWpYCDtbq15tzyLhkTu.1#success",
            "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ": "https://us02web.zoom.us/j/3211931658?pwd=eWhoQ2M4UVZKcnREOTFHSTNlTm5QQT09",
            "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ": "https://us02web.zoom.us/j/8716473386?pwd=GtAPx2bTw0h0v4ysz2sD7vdhauZ7jj.1&omn=87871014108"
        };

        const discColors = {
            "–Ω—ñ–º–µ—Ü—å–∫–∞": "bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400",
            "–ø–æ–ª—å—Å—å–∫–∞": "bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400",
            "—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞": "bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400",
            "–∫–∏—Ç–∞–π—Å—å–∫–∞": "bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400",
            "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è": "bg-indigo-50 text-indigo-600 border-indigo-100 dark:bg-indigo-900/20 dark:text-indigo-400",
            "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è": "bg-violet-50 text-violet-600 border-violet-100 dark:bg-violet-900/20 dark:text-violet-400",
            "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ": "bg-cyan-50 text-cyan-600 border-cyan-100 dark:bg-cyan-900/20 dark:text-cyan-400",
            "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è": "bg-pink-50 text-pink-600 border-pink-100 dark:bg-pink-900/20 dark:text-pink-400",
            "–±–∑–≤–ø": "bg-slate-100 text-slate-500 border-slate-200 dark:bg-zinc-800 dark:text-zinc-400"
        };

        const students = [
            { id: 1, name: "–ë–µ–ª—å—Ç—é–∫–æ–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è"] },
            { id: 2, name: "–í–µ–ª–∏–∫–æ–∫–æ–Ω—å –î–∞—Ä'—è –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 3, name: "–ì–∞–ª–∞–±—É–¥—Å—å–∫–∞ –°–æ—Ñ—ñ—è –ö–æ—Å—Ç—è–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", electives: ["–ø–æ–ª—å—Å—å–∫–∞", "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 4, name: "–ì—ñ—Ç–∫—ñ—Å –Ü–ª–ª—è –ú–∏—Ö–∞–π–ª–æ–≤–∏—á", electives: ["–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø"] },
            { id: 5, name: "–ì–æ—Ä–¥—ñ—î–Ω–∫–æ –ö–∞—Ç–µ—Ä–∏–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è"] },
            { id: 6, name: "–ì—É–º–µ–Ω—é–∫ –ê–Ω–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 7, name: "–ñ–∏–¥—á–µ–Ω–∫–æ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –ö–æ—Å—Ç—è–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 8, name: "–ö–µ–ª—å–≤–∏—á –ö–∞—Ç–µ—Ä–∏–Ω–∞ –ö–æ—Å—Ç—è–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", electives: ["–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 9, name: "–ö–∏—Å–ª–µ–Ω–∫–æ –ù–∞—Ç–∞–ª—ñ—è –Ü–≤–∞–Ω—ñ–≤–Ω–∞", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 10, name: "–ö–ª—ñ—á—É–∫ –ú–∏—Ö–∞–π–ª–æ –í–∞—Å–∏–ª—å–æ–≤–∏—á", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "–±–∑–≤–ø"] },
            { id: 11, name: "–ö–æ–ª–æ–¥—ñ–π –Æ–ª—ñ—è –í–∞—Å–∏–ª—ñ–≤–Ω–∞", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 12, name: "–ö–æ—Ö–∞–Ω –û–ª–µ–∫—Å—ñ–π –í—ñ—Ç–∞–ª—ñ–π–æ–≤–∏—á", electives: ["—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø", "–Ω—ñ–º–µ—Ü—å–∫–∞"] },
            { id: 13, name: "–ú–∞–π –î–µ–Ω–∏—Å –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø"] },
            { id: 14, name: "–ú–∞—Ä—Ç–∏–Ω –ú–∞–∫—Å–∏–º –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø"] },
            { id: 15, name: "–ú–∞—Å—è—î–≤ –Ø—Ä–æ—Å–ª–∞–≤ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "–±–∑–≤–ø"] },
            { id: 16, name: "–ú–æ–≥–∏–ª—è–Ω—Å—å–∫–∞ –°–æ—Ñ—ñ—è –û–ª–µ–≥—ñ–≤–Ω–∞", electives: ["–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–∫–∏—Ç–∞–π—Å—å–∫–∞"] },
            { id: 17, name: "–ú—É—Ä—ñ–Ω –ê–Ω–¥—Ä—ñ–π –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø"] },
            { id: 18, name: "–ü–µ—Ç—Ä–∏—á–∫–∞ –í–∞–ª–µ—Ä—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 19, name: "–ü–∏–ª–∏–ø–µ–Ω–∫–æ –î–∞–Ω—ñ—ó–ª –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø"] },
            { id: 20, name: "–ü–æ–ø—Ä–∞–≤–∫–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", electives: ["–ø–æ–ª—å—Å—å–∫–∞", "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 21, name: "–†–∏–∂—É–∫ –ê–Ω–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è"] },
            { id: 22, name: "–°–æ–ª—è—Ä–∏–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –Ø—Ä–æ—Å–ª–∞–≤–æ–≤–∏—á", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "–±–∑–≤–ø"] },
            { id: 23, name: "–°—Ç–µ–ø–∞–Ω–µ–Ω–∫–æ –ú–∞–∫—Å–∏–º –Æ—Ä—ñ–π–æ–≤–∏—á", electives: ["–ø–æ–ª—å—Å—å–∫–∞", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø"] },
            { id: 24, name: "–¢–∏–º–æ—â—É–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è"] },
            { id: 25, name: "–¢—Ä–æ—Ü—å–∫–∞ –î—ñ–∞–Ω–∞ –†—É—Å–ª–∞–Ω—ñ–≤–Ω–∞", electives: ["–Ω—ñ–º–µ—Ü—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è"] },
            { id: 26, name: "–£—Å—Ç–∏–º–µ–Ω–∫–æ –î–∞—è–Ω–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", electives: ["–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 27, name: "–ß–µ—Ä–Ω—è–∫ –î—ñ–∞–Ω–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è"] },
            { id: 28, name: "–ß—É–ø—Ä–∏–Ω–∞ –ê—Ä—ñ–Ω–∞ –û–ª–µ–∫—Å—ñ—ó–≤–Ω–∞", electives: ["—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞", "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ"] },
            { id: 29, name: "–®–µ–ª–µ–ø–∞ –ú–∏—Ö–∞–π–ª–æ –í–ª–∞–¥–∏—Å–ª–∞–≤–æ–≤–∏—á", electives: ["–ø–æ–ª—å—Å—å–∫–∞", "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", "–±–∑–≤–ø"] }
        ];

        const timeSlots = [
            { start: "08:30", end: "09:45" }, { start: "10:00", end: "11:15" },
            { start: "11:30", end: "12:45" }, { start: "13:00", end: "14:15" },
            { start: "14:30", end: "15:45" }, { start: "16:00", end: "17:15" }
        ];

        const scheduleData = {
            24: [
                { day: "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", date: "09.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }, { num: 3, time: "11:30-12:45", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }]},
                { day: "–í—ñ–≤—Ç–æ—Ä–æ–∫", date: "10.02", pairs: [{ num: 1, time: "08:30-09:45", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 2, time: "10:00-11:15", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 3, time: "11:30-12:45", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }, { num: 4, time: "13:00-14:15", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }]},
                { day: "–°–µ—Ä–µ–¥–∞", date: "11.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }, { num: 3, time: "11:30-12:45", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }, { num: 4, time: "13:00-14:15", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }, { num: 5, time: "14:30-15:45", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }]},
                { day: "–ß–µ—Ç–≤–µ—Ä", date: "12.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 3, time: "11:30-12:45", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 4, time: "13:00-14:15", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }, { num: 5, time: "14:30-15:45", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }]},
                { day: "–ü'—è—Ç–Ω–∏—Ü—è", date: "13.02", pairs: [{ num: 3, time: "11:30-12:45", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }, { num: 4, time: "13:00-14:15", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }]},
                { day: "–°—É–±–æ—Ç–∞", date: "14.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–ó–í–ü –í –õ", type: "elective", map: "–±–∑–≤–ø" }, { num: 3, time: "11:30-12:45", subj: "–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–ó–í–ü –í –õ", type: "elective", map: "–±–∑–≤–ø" }]}
            ],
            25: [
                { day: "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", date: "16.02", pairs: [{ num: 1, time: "08:30-09:45", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 2, time: "10:00-11:15", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 3, time: "11:30-12:45", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }]},
                { day: "–í—ñ–≤—Ç–æ—Ä–æ–∫", date: "17.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }, { num: 3, time: "11:30-12:45", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }]},
                { day: "–°–µ—Ä–µ–¥–∞", date: "18.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }, { num: 3, time: "11:30-12:45", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }]},
                { day: "–ß–µ—Ç–≤–µ—Ä", date: "19.02", pairs: [{ num: 1, time: "08:30-09:45", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }, { num: 2, time: "10:00-11:15", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }]},
                { day: "–ü'—è—Ç–Ω–∏—Ü—è", date: "20.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 3, time: "11:30-12:45", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 4, time: "13:00-14:15", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }, { num: 5, time: "14:30-15:45", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }]},
                { day: "–°—É–±–æ—Ç–∞", date: "21.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–ó–í–ü –í –õ", type: "elective", map: "–±–∑–≤–ø" }, { num: 3, time: "11:30-12:45", subj: "–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–ó–í–ü –í –õ", type: "elective", map: "–±–∑–≤–ø" }]}
            ],
            26: [
                { day: "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", date: "23.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–ö–∏—Ç–∞–π—Å—å–∫–∞ –º–æ–≤–∞ –ø", type: "elective", map: "–∫–∏—Ç–∞–π—Å—å–∫–∞" }, { num: 3, time: "11:30-12:45", subj: "–ö–∏—Ç–∞–π—Å—å–∫–∞ –º–æ–≤–∞ –ø", type: "elective", map: "–∫–∏—Ç–∞–π—Å—å–∫–∞" }, { num: 4, time: "13:00-14:15", subj: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –ø", type: "lang" }, { num: 5, time: "14:30-15:45", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }, { num: 6, time: "16:00-17:15", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }]},
                { day: "–í—ñ–≤—Ç–æ—Ä–æ–∫", date: "24.02", pairs: [{ num: 2, time: "10:00-11:15", subj: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –ø", type: "lang" }, { num: 3, time: "11:30-12:45", subj: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –ø", type: "lang" }]},
                { day: "–°–µ—Ä–µ–¥–∞", date: "25.02", pairs: [{ num: 1, time: "08:30-09:45", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }, { num: 2, time: "10:00-11:15", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }, { num: 3, time: "11:30-12:45", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 4, time: "13:00-14:15", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }]},
                { day: "–ß–µ—Ç–≤–µ—Ä", date: "26.02", pairs: [{ num: 1, time: "08:30-09:45", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }, { num: 2, time: "10:00-11:15", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }, { num: 3, time: "11:30-12:45", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }, { num: 4, time: "13:00-14:15", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }]},
                { day: "–ü'—è—Ç–Ω–∏—Ü—è", date: "27.02", pairs: [{ num: 1, time: "08:30-09:45", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 2, time: "10:00-11:15", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 3, time: "11:30-12:45", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 4, time: "13:00-14:15", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }, { num: 5, time: "14:30-15:45", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }]}
            ],
            27: [
                { day: "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", date: "02.03", pairs: [{ num: 2, time: "10:00-11:15", subj: "–ö–∏—Ç–∞–π—Å—å–∫–∞ –º–æ–≤–∞ –ø", type: "elective", map: "–∫–∏—Ç–∞–π—Å—å–∫–∞" }, { num: 3, time: "11:30-12:45", subj: "–ö–∏—Ç–∞–π—Å—å–∫–∞ –º–æ–≤–∞ –ø", type: "elective", map: "–∫–∏—Ç–∞–π—Å—å–∫–∞" }, { num: 4, time: "13:00-14:15", subj: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –ø", type: "lang" }, { num: 5, time: "14:30-15:45", subj: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –ø", type: "lang" }]},
                { day: "–í—ñ–≤—Ç–æ—Ä–æ–∫", date: "03.03", pairs: [{ num: 3, time: "11:30-12:45", subj: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –ø", type: "lang" }, { num: 4, time: "13:00-14:15", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }, { num: 5, time: "14:30-15:45", subj: "–ï–∫–∞—É–Ω—Ç–∏–Ω–≥-2 –õ", type: "general", zoomKey: "–µ–∫–∞—É–Ω—Ç–∏–Ω–≥" }]},
                { day: "–°–µ—Ä–µ–¥–∞", date: "04.03", pairs: [{ num: 1, time: "08:30-09:45", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 2, time: "10:00-11:15", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 3, time: "11:30-12:45", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 4, time: "13:00-14:15", subj: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ", zoomKey: "—Å–æ—Ü—ñ–∞–ª—å–Ω–µ –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }]},
                { day: "–ß–µ—Ç–≤–µ—Ä", date: "05.03", pairs: [{ num: 1, time: "08:30-09:45", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }, { num: 2, time: "10:00-11:15", subj: "–°–æ—Ü—ñ–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è", zoomKey: "—Å–æ—Ü—ñ–æ–ª–æ–≥—ñ—è" }, { num: 3, time: "11:30-12:45", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }, { num: 4, time: "13:00-14:15", subj: "–ü—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ –õ", type: "general", zoomKey: "–ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—Ç–≤–æ" }]},
                { day: "–ü'—è—Ç–Ω–∏—Ü—è", date: "06.03", pairs: [{ num: 1, time: "08:30-09:45", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }, { num: 2, time: "10:00-11:15", subj: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –õ", type: "general", zoomKey: "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥" }, { num: 3, time: "11:30-12:45", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }, { num: 4, time: "13:00-14:15", subj: "–ü–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è –í –õ", type: "elective", map: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è", zoomKey: "–ø–æ–ª—ñ—Ç–æ–ª–æ–≥—ñ—è" }, { num: 5, time: "14:30-15:45", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }, { num: 6, time: "16:00-17:15", subj: "–ü—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –í –õ", type: "elective", map: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è", zoomKey: "–ø—É–±–ª—ñ—á–Ω–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è" }]}
            ]
        };

        // --- –õ–û–ì–Ü–ö–ê ---
        let state = {
            view: 'register',
            selectedStudent: null,
            week: 24,
            genWeek: 24,
            search: '',
            lang: 'all',
            isDark: false
        };

        window.onload = () => {
            const savedDark = localStorage.getItem('darkMode') === 'true';
            if (savedDark) toggleDarkMode();
            renderRegister();
            updateWeekSelectors();
            renderGeneralSchedule();
            updateLiveStatus();
            setInterval(updateLiveStatus, 1000);
        };

        function toggleDarkMode() {
            state.isDark = !state.isDark;
            document.documentElement.classList.toggle('dark', state.isDark);
            document.getElementById('dark-mode-icon').textContent = state.isDark ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('darkMode', state.isDark);
        }

        function switchView(view) {
            state.view = view;
            const viewsPc = ['register', 'schedule'];
            viewsPc.forEach(v => {
                document.getElementById(`view-${v}`).classList.add('hidden');
                document.getElementById(`nav-${v}-pc`)?.classList.remove('text-indigo-600', 'bg-slate-100', 'dark:bg-zinc-800');
                document.getElementById(`nav-${v}-pc`)?.classList.add('text-slate-500');
            });
            
            document.getElementById(`view-${view}`).classList.remove('hidden');
            document.getElementById(`nav-${view}-pc`)?.classList.remove('text-slate-500');
            document.getElementById(`nav-${view}-pc`)?.classList.add('text-indigo-600', 'bg-slate-100', 'dark:bg-zinc-800');
            
            document.getElementById('mob-icon-reg').style.opacity = view === 'register' ? '1' : '0.4';
            document.getElementById('mob-icon-sch').style.opacity = view === 'schedule' ? '1' : '0.4';

            if (view === 'schedule') renderPersonalSchedule();
        }

        function updateLiveStatus() {
            const now = new Date();
            const dayNames = ["–ù–µ–¥—ñ–ª—è", "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", "–í—ñ–≤—Ç–æ—Ä–æ–∫", "–°–µ—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä", "–ü'—è—Ç–Ω–∏—Ü—è", "–°—É–±–æ—Ç–∞"];
            const currentDayName = dayNames[now.getDay()];
            const timeStr = `${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}`;
            
            const ordinalsNom = ["", "1-—à–∞", "2-–≥–∞", "3-—Ç—è", "4-—Ç–∞", "5-—Ç–∞", "6-—Ç–∞"];
            let current = null;
            let next = null;
            let breakSince = null;

            for (let i = 0; i < timeSlots.length; i++) {
                const slot = timeSlots[i];
                if (timeStr >= slot.start && timeStr <= slot.end) {
                    current = { ...slot, index: i + 1 };
                    break;
                }
                if (timeStr < slot.start) {
                    next = { ...slot, index: i + 1 };
                    if (i > 0) breakSince = timeSlots[i-1].end;
                    break;
                }
            }

            const el = document.getElementById('current-pair-text');
            const timerEl = document.getElementById('elapsed-timer');
            const labelEl = document.getElementById('timer-label');
            const statusTitle = document.getElementById('status-title');
            const icon = document.getElementById('status-icon');

            const todayData = (scheduleData[state.genWeek] || []).find(d => d.day === currentDayName);

            if (current) {
                statusTitle.innerText = "–ó–ê–†–ê–ó –ü–ê–†–ê";
                labelEl.innerText = "–¢–†–ò–í–ê–Ñ –í–ñ–ï";
                icon.className = "w-12 h-12 sm:w-14 sm:h-14 bg-indigo-500 text-white rounded-full flex items-center justify-center text-2xl shadow-lg animate-pulse shrink-0";
                const subj = todayData?.pairs.find(p => p.num === current.index)?.subj || "–ó–∞–Ω—è—Ç—Ç—è";
                el.innerHTML = `–ó–∞—Ä–∞–∑ <span class='text-indigo-600 dark:text-indigo-400 font-bold'>${ordinalsNom[current.index]} –ø–∞—Ä–∞</span>: ${subj}`;
                timerEl.innerText = calculateElapsed(current.start, now);
            } else if (next) {
                statusTitle.innerText = "–ó–ê–†–ê–ó –ü–ï–†–ï–†–í–ê";
                labelEl.innerText = "–í–Ü–î–ü–û–ß–ò–ù–û–ö –í–ñ–ï";
                icon.className = "w-12 h-12 sm:w-14 sm:h-14 bg-emerald-500 text-white rounded-full flex items-center justify-center text-2xl shadow-lg shrink-0";
                const nextSubj = todayData?.pairs.find(p => p.num === next.index)?.subj || "–Ω–∞—Å—Ç—É–ø–Ω–∞ –ø–∞—Ä–∞";
                el.innerHTML = `–ù–∞—Å—Ç—É–ø–Ω–∞: <span class='text-emerald-600 dark:text-emerald-400 font-bold'>${ordinalsNom[next.index]} –ø–∞—Ä–∞</span> –æ ${next.start} (${nextSubj})`;
                timerEl.innerText = breakSince ? calculateElapsed(breakSince, now) : "00:00:00";
            } else {
                statusTitle.innerText = "–°–¢–ê–¢–£–°";
                labelEl.innerText = "–ü–û–¢–û–ß–ù–ò–ô –ß–ê–°";
                icon.className = "w-12 h-12 sm:w-14 sm:h-14 bg-slate-200 dark:bg-zinc-800 text-slate-500 rounded-full flex items-center justify-center text-2xl shrink-0";
                el.innerHTML = `<span class='opacity-50 italic font-medium'>–ù–∞–≤—á–∞–ª—å–Ω–∏–π –¥–µ–Ω—å –∑–∞–∫—ñ–Ω—á–µ–Ω–æ</span>`;
                timerEl.innerText = now.toLocaleTimeString('uk-UA');
            }
        }

        function calculateElapsed(startTimeStr, now) {
            const [startH, startM] = startTimeStr.split(':').map(Number);
            const start = new Date(now);
            start.setHours(startH, startM, 0, 0);
            const diff = Math.floor((now - start) / 1000);
            if (diff < 0) return "00:00:00";
            const h = Math.floor(diff / 3600);
            const m = Math.floor((diff % 3600) / 60);
            const s = diff % 60;
            return `${h > 0 ? h + ':' : ''}${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        }

        function handleSearch() {
            state.search = document.getElementById('global-search').value.toLowerCase();
            state.lang = document.getElementById('lang-filter').value;
            renderRegister();
        }

        function renderRegister() {
            const body = document.getElementById('reg-table-body');
            body.innerHTML = '';
            const filtered = students.filter(s => {
                const nameMatch = s.name.toLowerCase().includes(state.search);
                const langMatch = state.lang === 'all' || s.electives.includes(state.lang);
                return nameMatch && langMatch;
            });

            filtered.forEach((s, i) => {
                const tr = document.createElement('tr');
                tr.className = "hover:bg-slate-100/50 dark:hover:bg-zinc-800/50 transition cursor-pointer group";
                tr.onclick = () => selectStudent(s.id);
                
                const badges = s.electives.map(e => {
                    const colorClass = discColors[e] || "bg-slate-200 text-slate-700";
                    return `<span class="px-2 py-0.5 rounded-md text-[8px] sm:text-[9px] uppercase font-bold border ${colorClass}">${e}</span>`;
                }).join(' ');

                tr.innerHTML = `
                    <td class="p-3 sm:p-4 text-center font-semibold text-slate-400 text-xs">${i + 1}</td>
                    <td class="p-3 sm:p-4 font-bold text-slate-800 dark:text-zinc-200 group-hover:text-indigo-600 transition full-name-cell">${s.name}</td>
                    <td class="p-3 sm:p-4"><div class="flex flex-wrap gap-1">${badges}</div></td>
                    <td class="p-3 sm:p-4 text-center">
                        <button class="text-[9px] font-bold uppercase tracking-widest text-indigo-500 opacity-100 sm:opacity-0 group-hover:opacity-100 transition px-3 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-900 bg-indigo-50 dark:bg-indigo-950 sm:bg-transparent">–í—ñ–¥–∫—Ä–∏—Ç–∏</button>
                    </td>
                `;
                body.appendChild(tr);
            });
            document.getElementById('reg-count').textContent = `${filtered.length} –æ—Å—ñ–±`;
        }

        function selectStudent(id) {
            state.selectedStudent = students.find(s => s.id === id);
            switchView('schedule');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function setWeek(w, type) {
            if (type === 'general') { state.genWeek = w; renderGeneralSchedule(); }
            else { state.week = w; renderPersonalSchedule(); }
            updateWeekSelectors();
        }

        function updateWeekSelectors() {
            const weeks = [24, 25, 26, 27];
            const makeBtns = (target, type) => weeks.map(w => {
                const active = target === w;
                const c = active ? "bg-indigo-600 text-white shadow-sm" : "text-slate-500 hover:bg-slate-200 dark:text-zinc-400 dark:hover:bg-zinc-700";
                return `<button onclick="event.stopPropagation(); setWeek(${w}, '${type}')" class="px-3 py-1 rounded-lg font-bold text-xs transition-all ${c}">–ù${w}</button>`;
            }).join('');
            document.getElementById('week-selector-gen').innerHTML = makeBtns(state.genWeek, 'general');
            if(state.selectedStudent) document.getElementById('week-selector-pers').innerHTML = makeBtns(state.week, 'personal');
        }

        function renderGeneralSchedule() {
            const grid = document.getElementById('general-schedule-grid');
            grid.innerHTML = '';
            (scheduleData[state.genWeek] || []).forEach(day => {
                const card = document.createElement('div');
                card.className = "bg-white dark:bg-zinc-900 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-zinc-800 day-card animate-fade";
                card.innerHTML = `
                    <h3 class="font-bold text-slate-800 dark:text-white mb-4 border-b border-slate-100 dark:border-zinc-800 pb-3 flex justify-between items-center">
                        <span class="uppercase tracking-tight text-lg italic font-black">${day.day}</span>
                        <span class="text-[10px] font-mono text-slate-400">${day.date}</span>
                    </h3>
                    <div class="space-y-3">${day.pairs.map(p => renderPair(p, true)).join('')}</div>
                `;
                grid.appendChild(card);
            });
        }

        function renderPersonalSchedule() {
            const grid = document.getElementById('schedule-grid');
            grid.innerHTML = '';
            if (!state.selectedStudent) return;
            
            document.getElementById('active-student-name').textContent = state.selectedStudent.name;
            document.getElementById('no-student-selected').classList.add('hidden');
            document.getElementById('schedule-content').classList.remove('hidden');

            (scheduleData[state.week] || []).forEach(day => {
                const pairs = day.pairs.filter(p => {
                    const studentElectives = state.selectedStudent.electives.map(e => e.toLowerCase());
                    if (p.type === 'general') return true;
                    if (p.type === 'lang') return studentElectives.some(el => ['–Ω—ñ–º–µ—Ü—å–∫–∞','–ø–æ–ª—å—Å—å–∫–∞','—Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–∞','–∫–∏—Ç–∞–π—Å—å–∫–∞'].includes(el));
                    if (p.type === 'elective') return studentElectives.includes(p.map.toLowerCase());
                    return false;
                });
                if (pairs.length > 0) {
                    const card = document.createElement('div');
                    card.className = "bg-white dark:bg-zinc-900 rounded-xl p-5 sm:p-6 border border-slate-200 dark:border-zinc-800 day-card animate-fade shadow-sm";
                    card.innerHTML = `<h3 class="font-black mb-4 border-b-2 border-indigo-50 dark:border-indigo-900/50 pb-3 flex justify-between items-center text-indigo-700 dark:text-indigo-400"><span class="uppercase text-lg italic tracking-tight">${day.day}</span><span class="text-[10px] font-mono text-slate-400">${day.date}</span></h3><div class="space-y-3">${pairs.map(p => renderPair(p, true, true)).join('')}</div>`;
                    grid.appendChild(card);
                }
            });
            updateWeekSelectors();
        }

        function renderPair(p, showZoom = true, isPersonal = false) {
            let zoom = '';
            if (showZoom && p.zoomKey && zoomLinks[p.zoomKey]) {
                zoom = `<a href="${zoomLinks[p.zoomKey]}" target="_blank" class="mt-3 flex items-center justify-center gap-2 w-full py-2.5 bg-zoom text-white rounded-lg text-[10px] font-black shadow-sm hover:brightness-110 active:scale-95 transition-all">üöÄ ZOOM</a>`;
            }
            let notes = '';
            if (isPersonal) {
                const noteId = `note-${state.selectedStudent.id}-${p.num}-${p.subj}`;
                const note = localStorage.getItem(noteId) || '';
                notes = `<textarea oninput="localStorage.setItem('${noteId}', this.value)" placeholder="–ó–∞–º—ñ—Ç–∫–∏..." class="mt-3 w-full p-2.5 text-[10px] bg-slate-50 dark:bg-zinc-800/50 border border-slate-100 dark:border-zinc-700 rounded-lg outline-none focus:border-indigo-300 min-h-[50px] font-medium text-slate-700 dark:text-zinc-300 resize-none"></textarea>`;
            }
            const cls = p.type === 'general' ? 'pair-general' : (p.type === 'lang' ? 'pair-lang' : 'pair-elective');
            return `
                <div class="pair-item ${cls} p-4 shadow-sm">
                    <div class="flex justify-between items-start text-[8px] font-bold text-slate-500 dark:text-zinc-500 mb-1 uppercase tracking-widest">
                        <span>${p.num} –ü–ê–†–ê ‚Ä¢ ${p.time}</span>
                        <span class="px-1.5 py-0.5 bg-white dark:bg-zinc-800 border rounded border-slate-100 dark:border-zinc-700 text-[7px]">${p.type}</span>
                    </div>
                    <div class="text-sm sm:text-base font-bold text-slate-900 dark:text-zinc-100 leading-tight">${p.subj}</div>
                    ${zoom} ${notes}
                </div>
            `;
        }
    </script>
</body>
</html>
